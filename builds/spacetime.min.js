/* @smallwins/spacetime v0.0.12
  
*/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.spacetime=t()}}(function(){return function t(e,n,o){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return r(n?n:t)},d,d.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){"use strict";var o=t("./zonefile.2017.json"),r=function(t){var e={},n=Object.keys(t);return n.forEach(function(n){var o=Object.keys(t[n]);o.forEach(function(o){var r=n+"/"+o;e[r]=t[n][o],"number"==typeof e[r]&&(e[r]={o:e[r]}),e[r].tz=r})}),e.UTC=e["Etc/UTC"],e},i=r(o);console.log(i),e.exports=i},{"./zonefile.2017.json":2}],2:[function(t,e,n){e.exports={Africa:{Algiers:60,Cairo:120,Casablanca:{o:60,hem:"n",dst:"6/2/3 -> 9/29/2"},Harare:120,Monrovia:0},Asia:{Kabul:270,Karachi:300,Katmandu:345,Kolkata:330,Krasnoyarsk:420,Kuala_Lumpur:480,Kuwait:180,Magadan:600,Muscat:240,Novosibirsk:360,Pyongyang:540,Rangoon:390,Sakhalin:600,Seoul:540,Srednekolymsk:660,Taipei:480,Tashkent:300,Tbilisi:240,Tehran:{o:270,hem:"n",dst:"2/22/1 -> 8/21/23"},Tokyo:540,Ulaanbaatar:{o:480,hem:"n",dst:"2/25/3 -> 8/29/23"},Vladivostok:600,Yakutsk:540,Yekaterinburg:300,Yerevan:240},Atlantic:{Azores:{o:0,hem:"n",dst:"2/26/1 -> 9/29/0"},Cape_Verde:-60},Australia:{Adelaide:{o:570,hem:"s",dst:"9/1/3 -> 3/2/2"},Brisbane:600,Canberra:{o:600,hem:"s",dst:"9/1/3 -> 3/2/2"},Darwin:570,Eucla:525,Hobart:{o:600,hem:"s",dst:"9/1/3 -> 3/2/2"},Lord_Howe:{o:630,hem:"s",dst:"9/1/2 -> 3/2/1"},Perth:480},Europe:{Amsterdam:{o:120,hem:"n",dst:"2/26/3 -> 9/29/2"},Athens:{o:180,hem:"n",dst:"2/26/4 -> 9/29/3"},Belgrade:{o:120,hem:"n",dst:"2/26/3 -> 9/29/2"},Brussels:{o:120,hem:"n",dst:"2/26/3 -> 9/29/2"},Helsinki:{o:180,hem:"n",dst:"2/26/4 -> 9/29/3"},Kaliningrad:120,London:{o:60,hem:"n",dst:"2/26/2 -> 9/29/1"},Minsk:180,Moscow:180,Samara:240,Warsaw:{o:120,hem:"n",dst:"2/26/3 -> 9/29/2"}},Indian:{Mauritius:240},Pacific:{Apia:{o:780,hem:"s",dst:"8/24/4 -> 3/2/3"},Auckland:{o:720,hem:"s",dst:"8/24/3 -> 3/2/2"},Chatham:{o:765,hem:"s",dst:"8/24/3 -> 3/2/2"},Easter:{o:-300,hem:"s",dst:"7/12/23 -> 4/13/21"},Fiji:{o:720,hem:"s",dst:"10/5/3 -> 0/15/2"},Guadalcanal:660,Guam:600,Honolulu:-600,Kiritimati:840,Marquesas:-570,Midway:-660,Norfolk:690,Noumea:660,Tongatapu:{o:780,hem:"s",dst:"10/5/3 -> 0/15/2"}}}},{}],3:[function(t,e,n){e.exports={name:"@smallwins/spacetime",version:"0.0.12",description:"represent dates in remote timezones",main:"./builds/spacetime.js",license:"UNLICENSED",scripts:{build:"node ./scripts/build.js",demo:"node ./scripts/demo.js",watch:"node ./scripts/watch.js",test:"./node_modules/tape/bin/tape ./test/**/*.test.js | ./node_modules/tap-spec/bin/cmd.js",coverage:"node ./scripts/coverage.js"},repository:{type:"git",url:"https://github.com/smallwins/spacetime.git"},files:["builds/"],dependencies:{},devDependencies:{"babel-preset-es2015":"6.9.0","babel-preset-stage-2":"^6.11.0",babelify:"7.3.0",browserify:"13.0.1",derequire:"^2.0.3",eslint:"^3.1.1",gaze:"^1.1.1",nyc:"^8.4.0",shelljs:"^0.7.2","tap-spec":"4.1.1",tape:"4.6.0",timekeeper:"^1.0.0","uglify-js":"2.7.0"}}},{}],4:[function(t,e,n){"use strict";e.exports={breakfast:8,morning:9,noon:12,lunch:13,afternoon:14,dinner:18,supper:18,evening:19,night:20}},{}],5:[function(t,e,n){"use strict";e.exports={short:["sun","mon","tues","wed","thurs","fri","sat"],long:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]}},{}],6:[function(t,e,n){"use strict";var o={millisecond:1};o.second=1e3,o.minute=6e4,o.hour=36e5,o.day=864e5,o.date=864e5,o.month=25488e5,o.week=6048e5,o.year=3154e7,Object.keys(o).forEach(function(t){o[t+"s"]=o[t]}),e.exports=o},{}],7:[function(t,e,n){"use strict";e.exports=[31,28,31,30,31,30,31,31,30,31,30,31]},{}],8:[function(t,e,n){"use strict";for(var o=["jan","feb","mar","apr","may","jun","jul","aug","sept","oct","nov","dec"],r=["january","february","march","april","may","june","july","august","september","october","november","december"],i={sep:8},s=0;s<o.length;s++)i[o[s]]=s;for(var a=0;a<r.length;a++)i[r[a]]=a;e.exports={short:o,long:r,mapping:i}},{}],9:[function(t,e,n){"use strict";e.exports=[null,[0,1],[3,1],[6,1],[9,1]]},{}],10:[function(t,e,n){"use strict";e.exports=[["spring",2,1],["summer",5,1],["fall",8,1],["autumn",8,1],["winter",11,1]]},{}],11:[function(t,e,n){"use strict";var o=function(){var t=new Date;return t.getTimezoneOffset()||0};e.exports=o},{}],12:[function(t,e,n){"use strict";var o=t("./spacetime"),r=t("../package.json"),i=function(t,e){return new o(t,e)};i.now=function(t){return new o((new Date).getTime(),t)},i.today=function(t){var e=new o((new Date).getTime(),t);return e.startOf("day")},i.tomorrow=function(t){var e=new o((new Date).getTime(),t);return e.add(1,"day").startOf("day")},i.yesterday=function(t){var e=new o((new Date).getTime(),t);return e.subtract(1,"day").startOf("day")},i.version=r.version,e.exports=i},{"../package.json":3,"./spacetime":32}],13:[function(t,e,n){"use strict";var o=t("./strParse"),r=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(t){return"[object Object]"===Object.prototype.toString.call(t)},s=function(t){return t instanceof Date&&!isNaN(t.valueOf())},a=function(t,e){for(var n=["year","month","date","hour","minute","second","millisecond"],o=0;o<e.length;o++){var r=n[o],i=e[o]||0;t[r](i)}return t},u=function(t,e){for(var n=Object.keys(e),o=0;o<n.length;o++){var r=n[o];if(void 0!==t[r]){var i=e[r]||0;t[r](i)}}return t},c=function(t,e){if("number"==typeof e)return void(t.epoch=e);if(t.epoch=Date.now(),null!==e&&void 0!==e){if(s(e)===!0)return void(t.epoch=e.getTime());if(r(e)===!0)return void a(t,e);if(i(e)===!0)return e.epoch?void(t.epoch=e.epoch):void u(t,e);if("string"==typeof e){for(var n=0;n<o.length;n++){var c=e.match(o[n].reg);if(c)return void o[n].parse(t,c)}t.epoch=null}}};e.exports=c},{"./strParse":14}],14:[function(t,e,n){"use strict";var o=t("../methods/set/walk"),r=t("../data/months"),i=function(t,e){e=e.replace(/^\s+/,"");var n=e.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?:?([0-9]{1,4})?/);n&&(t.hour(n[1]),t.minute(n[2]),n[3]&&t.seconds(n[3]),n[4]&&t.millisecond(n[4]))},s=[{reg:/^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})T([0-9:]+)Z$/,parse:function(t,e){var n=parseInt(e[2],10)-1;o(t,{year:e[1],month:n,date:e[3]}),i(t,e[4])}},{reg:/^([0-9]{4})[\-\/]([0-9]{1,2})[\-\/]([0-9]{1,2})$/,parse:function(t,e){var n=parseInt(e[2],10)-1;o(t,{year:e[1],month:n,date:e[3]})}},{reg:/^([0-9]{1,2})[\-\/]([0-9]{1,2})[\-\/]([0-9]{4})$/,parse:function(t,e){var n=parseInt(e[1],10)-1;o(t,{year:e[3],month:n,date:e[2]})}},{reg:/^([a-z]+) ([0-9]{1,2}),? ([0-9]{4})( ([0-9:]+))?$/i,parse:function(t,e){var n=r.mapping[e[1].toLowerCase()];o(t,{year:e[3],month:n,date:e[2]}),e[4]&&i(t,e[4])}},{reg:/^([0-9]{1,2}) ([a-z]+),? ([0-9]{4})$/i,parse:function(t,e){var n=r.mapping[e[2].toLowerCase()];o(t,{year:e[3],month:n,date:e[1]})}}];e.exports=s},{"../data/months":8,"../methods/set/walk":30}],15:[function(t,e,n){"use strict";var o=function(t){for(var e=0,n=t.getMonth(),o=void 0,r=0;r<n;r++)o=new Date,o.setMonth(r),o.setDate(1),o.setHours(-2),e+=o.getDate();return e+t.getDate()};e.exports=o},{}],16:[function(t,e,n){"use strict";function o(t,e){e=e||2;var n="0";return t+="",t.length>=e?t:new Array(e-t.length+1).join(n)+t}function r(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():""}function i(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}e.exports={zeroPad:o,titleCase:r,ordinal:i}},{}],17:[function(t,e,n){"use strict";n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.getEpoch=function(t){return"number"==typeof t?t:n.isDate(t)?t.getTime():t.epoch?t.epoch:null}},{}],18:[function(t,e,n){"use strict";var o=t("./methods/format"),r=t("./methods/progress"),i=t("./methods/diff"),s=t("./methods/startOf"),a=t("./timezone/index"),u=t("./input");e.exports={set:function(t){return u(this,t),this},timezone:function(){return a(this)},format:function(){return o(this)},startOf:function(t){return s.startOf(this,t)},endOf:function(t){return s.endOf(this,t)},leapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},progress:function(){return r(this)},diff:function(t,e){return i(this,t,e)},isValid:function(){return!isNaN(this.d.getTime())},goto:function(t){return this.tz=t,this},log:function(){return console.log(""),console.log(o(this).nice.short),this},logYear:function(){return console.log(""),console.log(o(this).date.short+" "+this.year()),this}}},{"./input":13,"./methods/diff":21,"./methods/format":22,"./methods/progress":23,"./methods/startOf":31,"./timezone/index":34}],19:[function(t,e,n){"use strict";var o=t("./set/walk"),r=t("../data/milliseconds"),i=t("../data/monthLength"),s=function(t){return t=t.toLowerCase(),t=t.replace(/s$/,""),"day"===t?"date":t},a={second:["millisecond"],minute:["millisecond","second"],hour:["millisecond","second","minute"],date:["millisecond","second","minute","hour"],month:["millisecond","second","minute","hour"],quarter:["millisecond","second","minute","hour"],season:["millisecond","second","minute","hour"],year:["millisecond","second","minute","hour","date","month"]};a.week=a.date,a.season=a.date,a.quarter=a.date;var u={month:!0,quarter:!0,season:!0,year:!0},c=function(t,e){if(t.month>0){var n=parseInt(t.month/12,10);t.year=e.year()+n,t.month=t.month%12}else if(t.month<0){var o=Math.floor(Math.abs(t.month)/13,10);o=Math.abs(o)+1,t.year=e.year()-o,t.month=t.month%12,t.month=t.month+12,12===t.month&&(t.month=0)}return t},d=function(t){t.prototype.add=function(t,e){var n=this.clone();e=s(e),r[e]?this.epoch+=r[e]*t:"week"===e?this.epoch+=r.day*(7*t):"quarter"===e||"season"===e?this.epoch+=r.month*(4*t):"season"===e&&(this.epoch+=r.month*(4*t));var d={};if(a[e]&&a[e].forEach(function(t){d[t]=n[t]()}),"month"===e&&(d.month=n.month()+t,d=c(d,n)),"year"===e&&this.year()===n.year()&&(this.epoch+=r.week),u[e]){var h=i[d.month];d.date=n.date(),d.date>h&&(d.date=h)}return o(this,d),this},t.prototype.subtract=function(t,e){return this.add(t*-1,e),this}};e.exports=d},{"../data/milliseconds":6,"../data/monthLength":7,"./set/walk":30}],20:[function(t,e,n){"use strict";var o=t("../lib/fns"),r=function(t){var e={isAfter:function(t){var e=o.getEpoch(t);return null===e?null:this.epoch>e},isBefore:function(t){var e=o.getEpoch(t);return null===e?null:this.epoch<e},isEqual:function(t){var e=o.getEpoch(t);return null===e?null:this.epoch===e}};Object.keys(e).forEach(function(n){t.prototype[n]=e[n]})};e.exports=r},{"../lib/fns":17}],21:[function(t,e,n){"use strict";var o=function(t){return t=t.toLowerCase(),t=t.replace(/s$/,""),"day"===t?"date":t},r=function(t,e,n){var o=0;for(t=t.clone();t.isBefore(e);)t.add(1,n),o+=1;return t.isSame(e,n)||(o-=1),o},i=function(t,e,n){return n=o(n),t.isBefore(e)?r(t,e,n):r(e,t,n)*-1};e.exports=i},{}],22:[function(t,e,n){"use strict";var o=t("../lib/fmt"),r=t("../data/months"),i=t("../data/days"),s=function(t){var e=t.year(),n=t.date(),s=t.month(),a=t.day(),u=t.minute(),c=t.hour(),d=c;c>12&&(d=c-12),0===d&&(d=12);var h={numeric:{uk:o.zeroPad(n)+"/"+o.zeroPad(s)+"/"+e,us:o.zeroPad(s)+"/"+o.zeroPad(n)+"/"+e},time:{h12:d+":"+o.zeroPad(u)+t.ampm(),h24:c+":"+o.zeroPad(u)},date:{ordinal:o.ordinal(n),cardinal:""+n,short:o.titleCase(r.short[s])+" "+o.ordinal(n),long:o.titleCase(r.long[s])+" "+o.ordinal(n)},year:{long:""+e,short:"'"+(""+e).substr(2,4)},iso:{short:e+"-"+o.zeroPad(s)+"-"+o.zeroPad(n),local:e+"-"+o.zeroPad(s+1)+"-"+o.zeroPad(n)+"T"+c+":"+o.zeroPad(u)+":"+o.zeroPad(t.second())+":"+o.zeroPad(t.millisecond(),3)+"Z",utc:new Date(t.epoch).toISOString()},day:{short:o.titleCase(i.short[a]),long:o.titleCase(i.long[a])},month:{short:o.titleCase(r.short[s]),long:o.titleCase(r.long[s])}};return h.nice={short:o.titleCase(r.short[s])+" "+o.ordinal(n)+", "+h.time.h12,long:h.day.long+" "+o.titleCase(r.long[s])+" "+o.ordinal(n)+", "+h.time.h12},h.full={short:o.titleCase(i.short[a])+" "+o.titleCase(r.short[s])+" "+o.ordinal(n)+" "+e+", "+h.time.h12,long:o.titleCase(i.long[a])+" "+o.titleCase(r.long[s])+" "+o.ordinal(n)+" "+e+", "+h.time.h12},h};e.exports=s},{"../data/days":5,"../data/months":8,"../lib/fmt":16}],23:[function(t,e,n){"use strict";var o=function(t){var e=["year","season","quarter","month","week","day","hour","minute"],n={};return e.forEach(function(e){var o=t.clone().startOf(e),r=t.clone().endOf(e),i=r.epoch-o.epoch,s=(t.epoch-o.epoch)/i;n[e]=parseFloat(s.toFixed(2))}),n};e.exports=o},{}],24:[function(t,e,n){"use strict";var o=t("../../data/quarters"),r=t("../../data/seasons"),i=t("../set/set"),s=function(t){t.minute(0),t.second(0),t.millisecond(1)};e.exports={time:function(t){return void 0!==t?(this.epoch=i.time(this,t),this):this.format().time.h12},week:function(t){if(void 0!==t)return this.month(0),this.date(1),this.day("monday"),s(this),"december"===this.monthName()&&this.add(1,"week"),t-=1,this.add(t,"weeks"),this;var e=this.clone();e.month(0),e.date(1),s(e),e.day("monday"),"december"===e.monthName()&&e.add(1,"week");var n=this.epoch;if(e.epoch>n)return 1;for(var o=0;o<52;o++){if(e.epoch>n)return o;e.add(1,"week")}return 52},quarter:function(t){if(void 0!==t&&("string"==typeof t&&(t=t.replace(/^q/i,""),t=parseInt(t,10)),o[t])){var e=o[t][0];return this.month(e),this.date(1),this.hour(0),s(this),this}for(var n=this.d.getMonth(),r=1;r<o.length;r++)if(n<o[r][0])return r-1;return 4},hourFloat:function(t){if(void 0!==t){var e=t%1;e=60*e;var n=parseInt(t,10);return this.epoch=i.hours(this,n),this.epoch=i.minutes(this,e),this}var o=this.d,r=o.getHours(),s=o.getMinutes();return s/=60,r+s},season:function(t){if(void 0!==t){for(var e=0;e<r.length;e++)t===r[e][0]&&(this.month(r[e][1]),this.date(1),this.hour(0),s(this));return this}for(var n=this.d.getMonth(),o=0;o<r.length-1;o++)if(n>=r[o][1]&&n<r[o+1][1])return r[o][0];return"winter"},emoji:function(){var t={seasons:{spring:"🌱",winter:"⛄",summer:"☀️️",fall:"🍂"},times:{breakfast:"🍳",morning:"☕",noon:"🌞",lunch:"🎒",afternoon:"🌤️",dinner:"🍽️",evening:"🌆",night:"🛌"}};return{time:t.times[this.time()]||"",season:t.seasons[this.season()]||""}}}},{"../../data/quarters":9,"../../data/seasons":10,"../set/set":29}],25:[function(t,e,n){"use strict";var o=t("./normal"),r=t("./destructive"),i=t("./tricky"),s=function(t){Object.keys(o).forEach(function(e){t.prototype[e]=o[e]}),Object.keys(r).forEach(function(e){t.prototype[e]=r[e]}),Object.keys(i).forEach(function(e){t.prototype[e]=i[e]})};e.exports=s},{"./destructive":24,"./normal":26,"./tricky":27}],26:[function(t,e,n){"use strict";var o=t("../set/set"),r=t("../../lib/dayOfYear"),i={millisecond:function(t){return void 0!==t?(this.epoch=o.milliseconds(this,t),this):this.d.getMilliseconds()},second:function(t){return void 0!==t?(this.epoch=o.seconds(this,t),this):this.d.getSeconds()},minute:function(t){return void 0!==t?(this.epoch=o.minutes(this,t),this):this.d.getMinutes()},hour:function(t){var e=this.d;return void 0!==t?(this.epoch=o.hours(this,t),this):e.getHours()},date:function(t){return void 0!==t?(this.epoch=o.date(this,t),this):this.d.getDate()},month:function(t){return void 0!==t?(this.epoch=o.month(this,t),this):this.d.getMonth()},year:function(t){return void 0!==t?(this.epoch=o.year(this,t),this):this.d.getFullYear()},dayOfYear:function(t){return void 0!==t?(this.epoch=o.dayOfYear(this,t),this):r(this.d)}};i.milliseconds=i.millisecond,i.seconds=i.second,i.minutes=i.minute,i.hours=i.hour,i.days=i.day,e.exports=i},{"../../lib/dayOfYear":15,"../set/set":29}],27:[function(t,e,n){"use strict";var o=t("../../data/days"),r=(t("../../data/dayTimes"),t("../../data/months")),i=(t("../set/set"),t("../set/walk"));e.exports={day:function t(e){if(void 0===e)return this.d.getDay();var n=this.clone(),r=e;"string"==typeof e&&(e=e.toLowerCase(),r=o.short.indexOf(e),r===-1&&(r=o.long.indexOf(e)));var t=this.d.getDay(),s=t-r,a=this.subtract(24*s,"hours");return i(a,{hour:n.hour(),minute:n.minute(),second:n.second()}),this.epoch=a.epoch,a},ampm:function(t){var e="am",n=this.hour();return n>=12&&(e="pm"),void 0===t?e:t===e?this:("am"===t?this.subtract(12,"hours"):this.add(12,"hours"),this)},dayName:function(t){return void 0===t?o.long[this.day()]:(this.day(t),this)},monthName:function(t){return void 0===t?r.long[this.month()]:(this.month(t),this)}}},{"../../data/dayTimes":4,"../../data/days":5,"../../data/months":8,"../set/set":29,"../set/walk":30}],28:[function(t,e,n){"use strict";var o={second:function(t){return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second()].join("-")},minute:function(t){return[t.year(),t.month(),t.date(),t.hour(),t.minute()].join("-")},hour:function(t){return[t.year(),t.month(),t.date(),t.hour()].join("-")},day:function(t){return[t.year(),t.month(),t.date()].join("-")},week:function(t){return[t.year(),t.week()].join("-")},month:function(t){return[t.year(),t.month()].join("-")},quarter:function(t){return[t.year(),t.quarter()].join("-")},year:function(t){return t.year()}},r=function(t){t.prototype.isSame=function(t,e){var n=this;return"string"!=typeof t&&"number"!=typeof t||(t=new Space(t)),"millisecond"===e||"milliseconds"===e?n.epoch===t.epoch:"second"===e||"seconds"===e?o.second(n)===o.second(t):"minute"===e||"minutes"===e?o.minute(n)===o.minute(t):"hour"===e||"hours"===e?o.hour(n)===o.hour(t):"day"===e||"days"===e||"date"===e?o.day(n)===o.day(t):"week"===e||"weeks"===e?o.week(n)===o.week(t):"month"===e||"months"===e?o.month(n)===o.month(t):"quarter"===e||"quarters"===e?o.quarter(n)===o.quarter(t):"year"===e||"years"===e?o.year(n)===o.year(t):null}};e.exports=r},{}],29:[function(t,e,n){"use strict";var o=(t("../../data/dayTimes"),t("../../data/milliseconds")),r=t("../../data/months"),i=t("../../data/monthLength"),s=t("./walk"),a=function(t){return"string"==typeof t&&(t=parseInt(t,10)),t},u={second:["second","millisecond"],minute:["minute","second","millisecond"],hour:["hour","minute","second","millisecond"],date:["date","hour","minute","second","millisecond"],month:["month","date","hour","minute","second","millisecond"],year:["year","month","date","hour","minute","second","millisecond"]},c=function(t,e,n){for(var o=u[n],r=0;r<o.length;r++){var i=e[o[r]]();t[o[r]](i)}return t};e.exports={milliseconds:function(t,e){e=a(e);var n=t.millisecond(),o=n-e;return t.epoch-o},seconds:function(t,e){e=a(e);var n=t.second()-e,r=n*o.second;return t.epoch-r},minutes:function(t,e){e=a(e);var n=t.clone(),r=t.minute()-e,i=r*o.minute;return t.epoch-=i,c(t,n,"second"),t.epoch},hours:function(t,e){e=a(e);var n=t.clone(),r=t.hour()-e,i=r*o.hour;return t.epoch-=i,c(t,n,"minute"),t.epoch},time:function(t,e){var n=e.match(/([0-9]{1,2}):([0-9]{1,2})(am|pm)?/);if(!n)return t.epoch;var o=!1,r=parseInt(n[1],10),i=parseInt(n[2],10);return r>12&&(o=!0),o||"pm"!==n[3]||(r+=12),t.hour(r),t.minute(i),t.second(0),t.millisecond(0),t.epoch},date:function(t,e){return e=a(e),s(t,{date:e}),t.epoch},month:function(t,e){"string"==typeof e&&(e=r.mapping[e.toLowerCase()]),e=a(e);var n=t.date();return n>i[e]&&(n=i[e]),s(t,{month:e,date:n}),t.epoch},year:function(t,e){return e=a(e),s(t,{year:e}),t.epoch},dayOfYear:function(t,e){e=a(e);var n=t.clone(),r=e-t.dayOfYear(),i=r*o.day;return t.epoch+=i,c(t,n,"hour"),t.epoch}}},{"../../data/dayTimes":4,"../../data/milliseconds":6,"../../data/monthLength":7,"../../data/months":8,"./walk":30}],30:[function(t,e,n){"use strict";var o=t("../../data/milliseconds"),r={year:{valid:function(t){return t>0&&t<4e3},walkTo:function(t,e){for(;t.year()<e;)t.epoch+=o.year;for(;t.year()>e;)t.epoch-=o.year}},month:{valid:function(t){return t>=0&&t<=11},walkTo:function(t,e){for(;t.month()<e;)t.epoch+=o.day;for(;t.month()>e;)t.epoch-=o.day}},date:{valid:function(t){return t>0&&t<=31},walkTo:function(t,e){for(;t.date()<e;)t.epoch+=o.day;for(;t.date()>e;)t.epoch-=o.day}},hour:{valid:function(t){return t>=0&&t<24},walkTo:function(t,e){for(;t.hour()<e;)t.epoch+=o.hour;for(;t.hour()>e;)t.epoch-=o.hour}},minute:{valid:function(t){return t>=0&&t<60},walkTo:function(t,e){for(;t.minute()<e;)t.epoch+=o.minute;for(;t.minute()>e;)t.epoch-=o.minute}},second:{valid:function(t){return t>=0&&t<60},walkTo:function(t,e){for(;t.second()<e;)t.epoch+=o.second;for(;t.second()>e;)t.epoch-=o.second}},millisecond:{valid:function(t){return t>=0&&t<1e3},walkTo:function(t,e){t.milliseconds(e)}}},i=function(t,e){for(var n=Object.keys(r),o=t.clone(),i=0;i<n.length;i++){var s=n[i],a=e[s];if(void 0===a&&(a=o[s]()),"string"==typeof a&&(a=parseInt(a,10)),!r[s].valid(a))return void console.log("invalid "+s+": "+a);r[s].walkTo(t,a)}void 0===e.hour&&t.hour()!==o.hour()&&t.hour(o.hour())};e.exports=i},{"../../data/milliseconds":6}],31:[function(t,e,n){"use strict";var o=t("../data/seasons"),r=t("../data/quarters"),i=t("./set/walk"),s={minute:function(t){return i(t,{second:0,millisecond:0}),t},hour:function(t){return i(t,{minute:0,second:0,millisecond:0}),t},day:function(t){return i(t,{hour:0,minute:0,second:0,millisecond:0}),t},week:function(t){var e=t.clone();return t.day(1),t.isAfter(e)&&t.subtract(1,"week"),i(t,{hour:0,minute:0,second:0,millisecond:0}),t},month:function(t){return i(t,{date:1,hour:0,minute:0,second:0,millisecond:0}),t},quarter:function(t){var e=t.quarter();return r[e]&&i(t,{month:r[e][0],date:r[e][1],hour:0,minute:0,second:0,millisecond:0}),t},season:function(t){for(var e=t.season(),n=0;n<o.length;n++)if(o[n][0]===e){var r=t.year();return"winter"===e&&t.month()<3&&(r-=1),i(t,{year:r,month:o[n][1],date:o[n][2],hour:0,minute:0,second:0,millisecond:0}),t}return t},year:function(t){return i(t,{month:0,date:1,hour:0,minute:0,second:0,millisecond:0}),t}};s.date=s.day;var a=function(t,e){return s[e]?s[e](t):t},u=function(t,e){return s[e]?(t=s[e](t),t.add(1,e),t.subtract(1,"milliseconds"),t):t};e.exports={startOf:a,endOf:u}},{"../data/quarters":9,"../data/seasons":10,"./set/walk":30}],32:[function(t,e,n){"use strict";var o=t("./getBias"),r=t("./timezone/guessTz"),i=t("./timezone/index"),s=t("./input"),a=t("./methods"),u=function(t,e){this.tz=e||r(),this.bias=o(),Object.defineProperty(this,"d",{get:function(){var t=i(this)||{},e=t.current.epochShift;e+=60*this.bias*1e3;var n=this.epoch+e,o=new Date(n);return o}}),s(this,t)};Object.keys(a).forEach(function(t){u.prototype[t]=a[t]}),u.prototype.clone=function(){return new u(this.epoch,this.tz)},t("./methods/query")(u),t("./methods/add")(u),t("./methods/same")(u),t("./methods/compare")(u),e.exports=u},{"./getBias":11,"./input":13,"./methods":18,"./methods/add":19,"./methods/compare":20,"./methods/query":25,"./methods/same":28,"./timezone/guessTz":33,"./timezone/index":34}],33:[function(t,e,n){"use strict";var o="Canada/Pacific",r=function(){if("undefined"==typeof Intl||"undefined"==typeof Intl.DateTimeFormat)return o;var t=Intl.DateTimeFormat();if("undefined"==typeof t||"undefined"==typeof t.resolvedOptions)return o;var e=t.resolvedOptions().timeZone;return e&&(e.indexOf("/")>-1||"UTC"===e)?e:o};e.exports=r},{}],34:[function(t,e,n){"use strict";var o=t("../../data"),r=t("./isDst"),i=function(t){if(!t)return{};var e=t.split(" -> ").map(function(t){var e=t.split("/");return{month:parseInt(e[0],10),date:parseInt(e[1],10),hour:parseInt(e[2],10)}});return{start:e[0],end:e[1]}},s=function(t){var e=t.tz;if(!o[e])return console.warn("Warn: could not find timezone - '"+e+"'"),{current:{epochShift:0}};var n={name:e};return n.dst=i(o[e].dst),n.dst.change=0,n.dst.start&&n.dst.end&&(n.dst.change=-60,"Australia/Lord_Howe"===n.name&&(n.dst.change=-30)),n.hemisphere=null,"n"===o[e].hem?n.hemisphere="North":"s"===o[e].hem&&(n.hemisphere="South"),n.offsets={base:o[e].o+n.dst.change,dst:o[e].o},r(t,n.dst)?n.current={isDst:!0,offset:n.offsets.dst}:n.current={isDst:!1,offset:n.offsets.base},n.current.epochShift=60*n.current.offset*1e3,n};e.exports=s},{"../../data":1,"./isDst":35}],35:[function(t,e,n){"use strict";function o(t,e){e=e||2;var n="0";return t+="",t.length>=e?t:new Array(e-t.length+1).join(n)+t}var r=function(t){return[o(t.month),o(t.date),o(t.hour)].join("-")},i=function(t,e){if(!e.start||!e.end)return!1;var n=new Date(t.epoch),o={month:n.getMonth(),date:n.getDate(),hour:n.getHours()};o=r(o);var i=r(e.start),s=r(e.end);return i<s?o>i&&o<s:o>i||o<s};e.exports=i},{}]},{},[12])(12)});
